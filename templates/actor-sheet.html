<form class="{{cssClass}} actor-sheet" autocomplete="off">

  <section id="name-look" class="flex-horizontal">

    <div class="grow-two">
      <div id="name">
        <label for="character-{{actor._id}}-name">{{localize "FITD.Name"}}</label>
        <input type="text" id="character-{{actor._id}}-name" name="name" value="{{actor.name}}">
      </div>

      <div id="character-traits" class="flex-column">

        <div class="item-block flex-horizontal">
          <div class="item-class-label"><a class="item-add-popup" data-distinct="true" data-item-type="monsterrace">{{localize "FITD.MonsterRace"}}</a></div>
          {{#each actor.items as |item id|}}
          {{#if (eq item.type "monsterrace")}}
          <div class="item flex-horizontal" data-item-id="{{item._id}}">
            <div class="item-body flex-horizontal">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <div class="item-name">{{item.name}}</div>
            </div>
            <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
          </div>
          {{/if}}
          {{/each}}
        </div>

        <div class="item-block flex-horizontal">
          <div class="item-class-label"><a class="item-add-popup" data-distinct="true" data-item-type="wickedimpulse">{{localize "FITD.Impulse"}}</a></div>
          {{#each actor.items as |item id|}}
          {{#if (eq item.type "wickedimpulse")}}
          <div class="item flex-horizontal" data-item-id="{{item._id}}">
            <div class="item-body flex-horizontal">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <div class="item-name">{{item.name}}</div>
            </div>
            <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
          </div>
          {{/if}}
          {{/each}}
        </div>

        <div class="item-block flex-horizontal">
          <div class="item-class-label"><a class="item-add-popup" data-distinct="true" data-item-type="revelry">{{localize "FITD.Revelry"}}</a></div>
          {{#each actor.items as |item id|}}
          {{#if (eq item.type "revelry")}}
          <div class="item flex-horizontal" data-item-id="{{item._id}}">
            <div class="item-body flex-horizontal">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <div class="item-name">{{item.name}}</div>
            </div>
            <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
          </div>
          {{/if}}
          {{/each}}
        </div>

        <div class="item-block flex-horizontal">
          <div class="item-class-label"><a class="item-add-popup" data-distinct="true" data-item-type="calling">{{localize "FITD.Calling"}}</a></div>
          {{#each actor.items as |item id|}}
          {{#if (eq item.type "calling")}}
          <div class="item flex-horizontal" data-item-id="{{item._id}}">
            <div class="item-body flex-horizontal">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <div class="item-name">{{item.name}}</div>
            </div>
            <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
          </div>
          {{/if}}
          {{/each}}
        </div>

      </div>
    </div>

    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>

    <div class="grow-two">
      <div id="look">
        <label for="character-{{actor._id}}-look">{{localize "FITD.Look"}}</label>
        <input type="text" id="character-{{actor._id}}-look" name="data.look" value="{{data.look}}">
      </div>

    </div>

  </section>

  {{!-- Experience --}}
  <section class="experience">
  </section>
  {{!-- Wicked and Reckless XP --}}
<div id="wicked-reckless-xp" class="section big-teeth-section">
  <div id="character-{{actor._id}}-wickedxp" class="big-teeth">
    {{#multiboxes data.wickedxp.value}}

    <input type="radio" id="character-{{actor._id}}-wickedxp-0" name="data.wickedxp.value" value="0" dtype="Radio">
    <label class="black-label" for="character-{{actor._id}}-wickedxp-0">{{localize data.wickedxp.name}}</label>

    {{#times_from_1 data.wickedxp.max}}
    <input type="radio" id="character-{{../actor._id}}-wickedxp-{{this}}" name="data.wickedxp.value" value="{{this}}"
           dtype="Radio">
    <label for="character-{{../actor._id}}-wickedxp-{{this}}"></label>
    {{/times_from_1}}

    {{/multiboxes}}

  </div>
  <div id="character-{{actor._id}}-recklessxp" class="big-teeth">
    {{#multiboxes data.recklessxp.value}}

    <input type="radio" id="character-{{actor._id}}-recklessxp-0" name="data.recklessxp.value" value="0" dtype="Radio">
    <label class="black-label" for="character-{{actor._id}}-reckless-0">{{localize data.recklessxp.name}}</label>

    {{#times_from_1 data.recklessxp.max}}
    <input type="radio" id="character-{{../actor._id}}-recklessxp-{{this}}" name="data.recklessxp.value" value="{{this}}"
           dtype="Radio">
    <label for="character-{{../actor._id}}-recklessxp-{{this}}"></label>
    {{/times_from_1}}

    {{/multiboxes}}

  </div>
</div>

  {{!-- Defenses & Stress Clock --}}
  <section id="defenses-stress">
    <div id="character-defenses">
      <table>
        <thead>
          <tr>
            <th class="black-white" colspan="2">{{localize "FITD.Defenses"}}</th>
            <th class="black-white">{{localize "FITD.Stress"}}</th>
            <th class="black-white">{{localize "FITD.Impulse"}}</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><input type="checkbox" name="data.defenses.1.checked" value="{{data.defenses.1.checked}}" {{checked data.defenses.1.checked}}></td>
            <td><input type="text" id="character-{{actor._id}}-defense-1" name="data.defenses.1.value" value="{{data.defenses.1.value}}"></td>
            <td rowspan="3">
              <div id="character-stress-clock">
                {{{blades-clock "data.stress_clock" 6 data.stress_clock actor._id}}}
              </div>
            </td>
          </tr>
          <tr>
            <td><input type="checkbox" name="data.defenses.2.checked" value="{{data.defenses.2.checked}}" {{checked data.defenses.2.checked}}></td>
            <td>
              <input type="text" id="character-{{actor._id}}-defense-2" name="data.defenses.2.value" value="{{data.defenses.2.value}}">
            </td>
          </tr>
          <tr>
            <td><input type="checkbox" name="data.defenses.3.checked" value="{{data.defenses.3.checked}}" {{checked data.defenses.3.checked}}></td>
            <td>
              <input type="text" id="character-{{actor._id}}-defense-3" name="data.defenses.3.value" value="{{data.defenses.3.value}}">
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>


  {{!-- Attributes --}}
  <section class="flex-horizontal">

    <div id="wo-nav-container" class="tab-content flex-vertical grow-two">

      {{!-- Nav menu --}}
      <nav class="tabs flex-horizontal">
        <a class="item" data-tab="abilities">{{localize "FITD.Abilities"}}</a>
        <a class="item" data-tab="loadout">{{localize "FITD.Loadout"}}</a>
        <a class="item" data-tab="duties">{{localize "FITD.DutiesClocks"}}</a>
        <a class="item" data-tab="character-notes">{{localize "FITD.Notes"}}</a>
        <a class="item" data-tab="all-character-items">{{localize "FITD.AllItems"}}</a>
      </nav>

      <div id="abilities" class="tab flex-vertical" data-tab="abilities">
        <div class="label-stripe">
          <p><label for="character-{{actor._id}}-experience-0">{{localize "FITD.Abilities"}}</label></p>
          <p><a class="item-add-popup" data-item-type="ability"><i class="fas fa-plus-square"></i></a></p>
        </div>

        <div id="abilities-list">
          {{#each actor.items as |item id|}}
          {{#if (eq item.type "ability")}}
          <div class="item flex-horizontal" data-item-id="{{item._id}}">
            <div class="item-body flex-horizontal">
              <b><div class="item-name">{{item.name}}</div></b>
              <div class="item-description">{{item.data.description}}</div>
            </div>
            <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
          </div>
          {{/if}}
          {{/each}}
          <div class="item-class-label"><a class="item-add-popup" data-item-type="ability">{{localize "FITD.AddAbility"}}</a></div>
        </div>
      </div>

      {{!-- Owned Items Tab --}}
      <div id="loadout" class="tab flex-vertical" data-tab="loadout">
        <div class="label-stripe flex-horizontal">
          <p>{{localize "FITD.Loadout"}}: {{data.loadout}}/{{data.load_level}} </p>
          <p><a class="item-add-popup" data-item-type="item"><i class="fas fa-plus-square"></i></a></p>
        </div>
        <div>
          {{#each actor.items as |item id|}}
          {{#if (eq item.type "item")}}
          <div class="item flex-horizontal" data-item-id="{{item._id}}">
            <div class="item-body flex-horizontal">
              <img src="{{item.img}}" title="{{item.name}}" width="24" height="24"/>
              <div class="item-name">{{item.name}}</div>
              <div class="item-description">{{item.data.description}}</div>
            </div>
            <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
          </div>
          {{/if}}
          {{/each}}
          <div class="item-class-label"><a class="item-add-popup" data-item-type="item">{{localize "FITD.AddItem"}}</a></div>
        </div>
      </div>

      <div class="tab flex-vertical" data-tab="character-notes">
        <div class="label-stripe">
          <p>{{localize "FITD.Notes"}}</p>
        </div>
        <textarea rows="13" name="data.description">{{{data.description}}}</textarea>
      </div>

      {{!-- Full Item List --}}
      <div class="tab grow-two flex-vertical" data-tab="all-character-items">
        <div class="label-stripe">
          <p><label>{{localize "FITD.AllItems"}}</label></p>
        </div>
        {{#each actor.items as |item id|}}
        <div class="item flex-horizontal" data-item-id="{{item._id}}">
          <div class="item-body item-sheet-open flex-horizontal">
            <img src="{{item.img}}" title="{{item.name}}" width="24" height="24" />
            <div class="item-name">{{item.name}}</div>
          </div>
          <a class="item-control item-delete" title="{{localize 'FITD.TitleDeleteItem'}}"><i class="fas fa-trash"></i></a>
        </div>
        {{/each}}
      </div>

    </div>
    {{!-- Attributes --}}
    {{> "systems/wicked-ones/templates/parts/attributes.html" actor=actor}}
  </section>

</form>
